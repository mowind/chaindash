# 磁盘监控UI优化需求文档

## 介绍
当前系统监控UI将系统信息（CPU、内存、网络）和磁盘监控信息混合显示在同一个区域，通过"智能显示模式"根据终端高度切换显示内容。这导致在有限高度的终端中，用户无法同时查看系统概览和磁盘详情。

本功能旨在优化UI布局，将界面分为左右两半：左边显示系统监控，右边显示磁盘挂载详情（类似`df -h`的信息），提供更清晰的信息层次和更好的用户体验。

## 需求列表

### 1. 左右分屏布局
**用户故事**：作为系统管理员，我想要同时查看系统监控和磁盘详情，以便快速了解系统整体状态和存储使用情况。

**验收标准**：
1.1. UI界面应分为左右两个垂直区域
1.2. 左侧区域宽度占50%，显示系统监控信息（CPU、内存、网络）
1.3. 右侧区域宽度占50%，显示磁盘挂载详情
1.4. 左右区域应有清晰的可视分隔线
1.5. 布局应适应不同的终端尺寸

### 2. 系统监控区域（左侧）
**用户故事**：作为系统管理员，我想要在左侧区域集中查看系统关键指标，以便快速评估系统负载。

**验收标准**：
2.1. 显示CPU使用率（百分比和进度条）
2.2. 显示内存使用情况（已用/总量，百分比和进度条）
2.3. 显示网络统计（接收/发送速率）
2.4. 显示系统运行时间
2.5. 保持现有的颜色编码（如内存使用率过高时显示红色）

### 3. 磁盘监控区域（右侧）
**用户故事**：作为系统管理员，我想要在右侧区域查看类似`df -h`的磁盘信息，以便了解存储使用情况和剩余空间。

**验收标准**：
3.1. 显示所有监控的磁盘挂载点列表
3.2. 每个挂载点显示以下信息：
   - 挂载点路径（如`/`、`/home`）
   - 文件系统类型
   - 总容量
   - 已用空间
   - 可用空间
   - 使用百分比
   - 设备名称
3.3. 使用百分比超过告警阈值（默认90%）时显示红色
3.4. 网络文件系统（NFS/SMB/CIFS）显示黄色
3.5. 支持Tab键在多个磁盘挂载点间导航（高亮当前选中项）

### 4. 布局自适应
**用户故事**：作为用户，我想要UI在不同终端尺寸下都能正常显示，以便在各种环境下使用。

**验收标准**：
4.1. 当终端宽度不足时，保持左右分屏但适当压缩内容
4.2. 当终端高度不足时，保持内容完整但可能启用滚动
4.3. 移除现有的"智能显示模式"（根据高度切换显示内容）
4.4. Unix系统和非Unix系统保持相同的左右分屏布局

### 5. 向后兼容性
**用户故事**：作为现有用户，我想要升级后所有功能保持不变，以便无缝迁移。

**验收标准**：
5.1. 保持所有现有的命令行参数功能
5.2. 保持现有的数据收集逻辑不变
5.3. 保持现有的颜色编码和告警逻辑
5.4. 保持Tab键导航功能
5.5. 保持自动发现磁盘挂载点功能

### 6. 用户体验改进
**用户故事**：作为用户，我想要更直观的信息展示，以便快速定位问题。

**验收标准**：
6.1. 左右区域应有明确的标题（如"系统监控"和"磁盘监控"）
6.2. 磁盘列表应按照挂载点字母顺序排序
6.3. 关键指标（如使用率超过阈值）应突出显示
6.4. 在状态栏显示简要帮助信息（如"Tab: 切换磁盘"）

## 非功能性需求

### 性能需求
- UI刷新频率保持现有设置（默认2秒）
- 布局计算不应显著增加CPU使用率
- 内存使用量不应显著增加

### 兼容性需求
- 支持现有的所有命令行参数
- 兼容现有的配置文件和设置
- 保持与现有数据收集模块的接口兼容

### 可维护性需求
- 新的布局代码应与现有UI框架（tui-rs）保持一致
- 代码应模块化，便于未来扩展
- 添加适当的注释说明布局逻辑