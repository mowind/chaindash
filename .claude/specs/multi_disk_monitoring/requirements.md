# 多挂载点磁盘监控需求文档

## 概述
当前磁盘监控功能只能监控硬编码的 `/opt` 和 `/` 分区。本功能扩展将允许用户配置监控多个磁盘挂载点，提高监控灵活性，适应不同部署场景（如多数据盘的区块链节点）。

## 需求列表

### 1. 可配置的磁盘监控
**用户故事**：作为系统管理员，我想要配置监控哪些磁盘挂载点，以便监控区块链节点的所有数据盘。

**验收标准**：
1.1. 系统应支持通过配置文件指定要监控的磁盘挂载点列表
1.2. 配置文件应支持相对路径和绝对路径
1.3. 默认配置应监控 `/opt` 和 `/` 分区，保持向后兼容
1.4. 配置变更应在应用重启后生效
1.5. 无效的挂载点配置应被忽略并记录警告

### 2. 多分区数据聚合
**用户故事**：作为用户，我想要查看所有监控分区的汇总磁盘使用情况，以便快速了解总体磁盘状态。

**验收标准**：
2.1. 系统应计算所有监控分区的总磁盘空间
2.2. 系统应计算所有监控分区的已使用空间总和
2.3. 系统应基于总空间和已使用空间计算整体使用百分比
2.4. 界面应显示汇总的磁盘使用信息
2.5. 汇总计算应忽略无法访问的分区

### 3. 详细的磁盘信息
**用户故事**：作为高级用户，我想要查看每个监控分区的详细信息，以便诊断特定磁盘问题。

**验收标准**：
3.1. 系统应为每个监控分区收集独立的使用数据
3.2. 界面应支持切换显示汇总视图和详细视图
3.3. 详细视图应显示每个分区的挂载点、总空间、已使用空间和使用百分比
3.4. 详细视图应突出显示使用率超过阈值（如90%）的分区
3.5. 数据刷新频率应与现有监控保持一致（每2秒）

### 4. 错误处理和降级
**用户故事**：作为用户，我想要在部分磁盘监控失败时仍能看到其他磁盘的信息，确保监控连续性。

**验收标准**：
4.1. 单个分区监控失败不应影响其他分区的监控
4.2. 分区访问失败应有清晰的错误日志
4.3. 汇总计算应自动排除失败的分区
4.4. 界面应能显示部分数据不可用的状态
4.5. 系统应在分区恢复访问后自动恢复监控

### 5. 配置验证
**用户故事**：作为系统管理员，我想要验证磁盘监控配置的有效性，确保配置正确。

**验收标准**：
5.1. 应用启动时应验证配置文件中指定的挂载点是否存在
5.2. 不存在的挂载点应记录警告并忽略
5.3. 重复的挂载点配置应自动去重
5.4. 空配置应使用默认值（`/opt` 和 `/`）
5.5. 配置验证错误不应阻止应用启动

## 技术约束
- 保持与现有 sysinfo crate 的兼容性
- 仅支持 Unix 系统（Linux/macOS）
- 保持2秒的数据刷新频率
- 不增加额外的运行时依赖

## 成功标准
- 用户可以通过配置文件添加/移除监控的磁盘分区
- 界面正确显示多分区的汇总和详细信息
- 单个分区故障不影响整体监控
- 默认配置保持现有行为不变
- 性能影响可忽略（<1% CPU增加）