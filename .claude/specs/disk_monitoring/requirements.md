# 磁盘监控功能需求文档

## 概述
为Chaindash系统监控工具添加磁盘监控功能，提供实时磁盘使用情况显示、阈值告警和自动挂载点发现。

## 用户故事和验收标准

### 1. 详细磁盘信息显示
**作为** 系统管理员
**我想要** 查看每个磁盘分区的详细信息
**以便** 了解磁盘使用情况和做出存储管理决策

**验收标准：**
1.1 系统应显示所有挂载点的以下信息：
- 挂载点路径
- 文件系统类型
- 总容量
- 已使用空间
- 可用空间
- 使用率百分比
- 设备名称

1.2 用户可以通过Tab键在不同挂载点之间切换显示
1.3 每个挂载点的信息应在独立视图中显示
1.4 信息应每秒自动刷新一次
1.5 数字应使用人类可读格式（如GB、MB）

### 2. 阈值告警
**作为** 系统管理员
**我想要** 在磁盘使用率过高时收到视觉告警
**以便** 及时采取措施防止磁盘写满

**验收标准：**
2.1 当磁盘使用率达到或超过90%时，该挂载点的显示应高亮（如红色背景）
2.2 告警阈值应可配置（默认为90%）
2.3 告警状态应在UI中清晰可见
2.4 告警应实时更新，无需手动刷新
2.5 多个挂载点同时告警时，所有告警都应显示

### 3. 自动挂载点发现
**作为** 系统管理员
**我想要** 系统自动发现所有挂载点
**以便** 无需手动配置即可监控所有磁盘

**验收标准：**
3.1 系统启动时应自动发现所有挂载点
3.2 系统运行期间应自动检测新挂载点
3.3 检测间隔应为5秒
3.4 应排除特殊文件系统（proc、sysfs、tmpfs等）
3.5 网络挂载点（NFS、SMB）应被包含但标记为网络存储

### 4. 用户体验
**作为** 用户
**我想要** 直观易用的磁盘监控界面
**以便** 快速了解系统存储状态

**验收标准：**
4.1 Tab切换应有视觉反馈（如高亮当前选中项）
4.2 使用率应使用进度条直观显示
4.3 关键信息（使用率、可用空间）应突出显示
4.4 界面布局应清晰，信息层次分明
4.5 应支持键盘导航（Tab切换，Esc退出）

## 技术约束
- 使用Rust系统调用获取磁盘信息
- 兼容Linux系统
- 内存占用应低于10MB
- CPU使用率应低于1%
- 刷新频率：1秒/次
- 支持UTF-8字符显示

## 成功标准
- 所有挂载点信息准确显示
- 告警功能在90%阈值时正确触发
- 新挂载点能在5秒内被自动发现
- Tab切换流畅无卡顿
- 系统资源占用在约束范围内